CC=gcc
CFLAGS=-Wall -Wextra -g
DIRH = FichiersH/
DIRC = FichiersC/

all: MainGraph

MainGraph: MainGraph.o Chaine.o Reseau.o Hachage.o ArbreQuat.o Graph.o  SVGwriter.o Struct_File.o
	$(CC) $(CFLAGS) -o MainGraph MainGraph.o Chaine.o Reseau.o Hachage.o ArbreQuat.o Graph.o SVGwriter.o Struct_File.o -lm

MainGraph.o: MainGraph.c $(DIRH)Chaine.h $(DIRH)Reseau.h $(DIRH)Hachage.h $(DIRH)ArbreQuat.h $(DIRH)Graph.h $(DIRH)SVGwriter.h $(DIRH)Struct_File.h
	$(CC) $(CFLAGS) -c MainGraph.c

Chaine.o: $(DIRC)Chaine.c $(DIRH)Chaine.h
	$(CC) $(CFLAGS) -c $(DIRC)Chaine.c

Reseau.o: $(DIRC)Reseau.c $(DIRH)Chaine.h
	$(CC) $(CFLAGS) -c $(DIRC)Reseau.c

Hachage.o: $(DIRC)Hachage.c $(DIRH)Hachage.h
	$(CC) $(CFLAGS) -c $(DIRC)Hachage.c

ArbreQuat.o: $(DIRC)ArbreQuat.c $(DIRH)ArbreQuat.h
	$(CC) $(CFLAGS) -c $(DIRC)ArbreQuat.c

SVGwriter.o: $(DIRC)SVGwriter.c $(DIRH)SVGwriter.h
	$(CC) $(CFLAGS) -c $(DIRC)SVGwriter.c

Graph.o: $(DIRC)Graph.c $(DIRH)Graph.h
	$(CC) $(CFLAGS) -c $(DIRC)Graph.c

Struct_File.o: $(DIRC)Struct_File.c $(DIRH)Struct_File.h
	$(CC) $(CFLAGS) -c $(DIRC)Struct_File.c

ifeq ($(OS),Windows_NT)
    RM = del
else
    RM = rm -f
endif

clean:
	$(RM) MainGraph *.o